#shellcheck shell=bash

if [[ -s $HOME/.config/dircolors ]] ; then
    eval "$(dircolors -b "$HOME/.config/dircolors")"
fi

if ! infocmp "$TERM" &> /dev/null ; then
    termfile="$HOME/.config/tmux/terminfo/$TERM.terminfo"
    if [[ -s $termfile ]] ; then
        tic "$termfile"
    else
        echo "TERM $TERM is undefined"
        echo "File $termfile does not exist"
    fi
fi

if [[ $(which hx) != "hx not found" ]] ; then
    export EDITOR=hx
elif [[ $(which vim) != "vim not found" ]] ; then
    export EDITOR=vim
else
    export EDITOR=vi
fi
export VISUAL=$EDITOR

if [[ $(which xclip) == "xclip not found" ]] ; then
    echo "${fg[red]}xclip not found${terminfo[sgr0]}"
fi

export REPORTTIME=10

if [[ -d $HOME/bin/zsh-autoswitch-virtualenv ]] ; then
    export AUTOSWITCH_DEFAULT_PYTHON=python3
    source $HOME/bin/zsh-autoswitch-virtualenv/autoswitch_virtualenv.plugin.zsh
fi

export COLORTERM=truecolor

